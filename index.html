<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุญูุงูุฉ ุงูููู: ุจูู ุงูุญุถุงุฑุฉ ูุงูุฅูุงูุฉ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
    
    <style>
        /* New Yemeni-inspired calm color palette */
        body {
            font-family: 'Tajawal', sans-serif;
            background-color: #FBF8F0; /* Soft Off-white */
            color: #2A2A2A; /* Dark Charcoal Gray */
        }
        .tajawal-bold {
            font-weight: 700;
        }
        .bg-primary { background-color: #FBF8F0; }
        .bg-secondary { background-color: #EDEAE3; } /* Light Beige */
        .bg-accent { background-color: #A7414A; } /* Muted Red */
        .text-accent { color: #A7414A; }
        .text-light { color: #FBF8F0; }
        .border-accent { border-color: #A7414A; }
        .bg-contrast { background-color: #2A2A2A; } /* Dark Charcoal */
        .text-contrast { color: #2A2A2A; }
        .border-contrast { border-color: #2A2A2A; }

        .chart-container {
            position: relative;
            width: 100%;
            max-width: 900px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .nav-link {
            transition: color 0.3s, border-bottom-color 0.3s;
        }
        .nav-link:hover {
            color: #A7414A;
            border-bottom-color: #A7414A;
        }
        .card {
            transition: transform 0.3s, box-shadow 0.3s;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .interactive-button {
            transition: background-color 0.3s, color 0.3s;
        }
        .active-button {
            background-color: #A7414A !important;
            color: #FBF8F0 !important;
        }
        /* New styles for the resistance display */
        .resistance-container {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }
        .resistance-card {
            width: 100%;
            max-width: 600px;
            background-color: #EDEAE3;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            padding: 2rem;
            text-align: center;
            opacity: 1;
            transition: opacity 0.5s ease-in-out;
        }
        .resistance-card.fade-out {
            opacity: 0;
        }
        .nav-buttons {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1rem;
            margin-top: 2rem;
        }
        .nav-button {
            background-color: #A7414A;
            color: #FBF8F0;
            padding: 0.75rem 1.5rem;
            border-radius: 9999px;
            font-weight: 700;
            transition: background-color 0.3s;
        }
        .nav-button:hover:not(:disabled) {
            background-color: #7A3138;
        }
        .nav-button:disabled {
            background-color: #C0C0C0;
            cursor: not-allowed;
        }
    </style>
</head>
<body class="bg-primary">

    <header class="bg-secondary shadow-md sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-3">
            <div class="flex items-center justify-between">
                <div class="text-xl tajawal-bold text-accent">ุญูุงูุฉ ุงูููู</div>
                <div class="hidden md:flex items-center space-x-8 lg:space-x-10">
                    <a href="#paradox" class="nav-link text-gray-700 border-b-2 border-transparent">ุงูููุงุฑูุฉ</a>
                    <a href="#eras" class="nav-link text-gray-700 border-b-2 border-transparent">ุจูู ุนุตุฑูู</a>
                    <a href="#control" class="nav-link text-gray-700 border-b-2 border-transparent">ูููุฌูุฉ ุงูุณูุทุฑุฉ</a>
                    <a href="#decline" class="nav-link text-gray-700 border-b-2 border-transparent">ุฃุฏูุงุช ุงูุชุฏููุฑ</a>
                    <a href="#resistance" class="nav-link text-gray-700 border-b-2 border-transparent">ุฑูุญ ุงูููุงููุฉ</a>
                    <a href="#gemini" class="nav-link text-gray-700 border-b-2 border-transparent">ุงุณุฃู Gemini</a>
                </div>
            </div>
        </nav>
    </header>

    <main>
        <!-- Section: Hero -->
        <section id="paradox" class="min-h-screen flex items-center justify-center bg-primary text-center p-6">
            <div class="container mx-auto">
                <h1 class="text-4xl md:text-6xl tajawal-bold text-accent mb-4">ุงูููุงุฑูุฉ ุงูููููุฉ</h1>
                <p class="text-lg md:text-2xl max-w-3xl mx-auto text-gray-700">
                    ูุณุชูุดู ูุฐุง ุงูุชุทุจูู ุงูููุงุฑูุฉ ุงูููููุฉ: ููู ุชุญูู ููุฏ ุงูุญุถุงุฑุงุช ุฅูู ุณุงุญุฉ ููุชูุชูุงุช ุงููุจููุฉ ูุงูุฌูู ุชุญุช ุญูู ุงูุฃุฆูุฉ.
                </p>
                <div class="mt-12">
                    <svg class="w-12 h-12 mx-auto text-accent animate-bounce" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                </div>
            </div>
        </section>

        <!-- Section: Two Eras Comparison -->
        <section id="eras" class="py-20 bg-secondary">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl tajawal-bold text-accent">ุงูููู ุจูู ุนุตุฑูู</h2>
                    <p class="mt-2 text-lg text-gray-700">ููุงุฑูุฉ ุชูุงุนููุฉ ุจูู ููู ุงูุญุถุงุฑุงุช ูููู ุงูุฅูุงูุฉ. ุงุฎุชุฑ ุฌุงูุจูุง ููููุงุฑูุฉ.</p>
                </div>

                <div id="comparison-buttons" class="flex flex-wrap justify-center gap-3 mb-10">
                    <button data-topic="society" class="interactive-button px-6 py-2 rounded-full border-2 border-accent text-accent tajawal-bold active-button">ุงููุฌุชูุน ูุงูุญูู</button>
                    <button data-topic="economy" class="interactive-button px-6 py-2 rounded-full border-2 border-accent text-accent tajawal-bold">ุงูุงูุชุตุงุฏ ูุงูููุงุฑุฏ</button>
                    <button data-topic="knowledge" class="interactive-button px-6 py-2 rounded-full border-2 border-accent text-accent tajawal-bold">ุงูุนูู ูุงูุชุนููู</button>
                </div>

                <div class="grid md:grid-cols-2 gap-8">
                    <div class="bg-primary p-6 rounded-lg shadow-lg">
                        <h3 class="text-2xl tajawal-bold text-contrast mb-4">โ๏ธ ููู ุงูุญุถุงุฑุงุช</h3>
                        <div id="civilization-content"></div>
                    </div>
                    <div class="bg-primary p-6 rounded-lg shadow-lg">
                        <h3 class="text-2xl tajawal-bold text-accent mb-4">๐ ููู ุงูุฅูุงูุฉ</h3>
                        <div id="imamate-content"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section: Ideology of Control -->
        <section id="control" class="py-20 bg-primary">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl tajawal-bold text-accent">ูููุฌูุฉ ุงูุณูุทุฑุฉ</h2>
                    <p class="mt-2 text-lg text-gray-700">ูู ููู ุงูุชุฏููุฑ ุนุฑุถููุงุ ุจู ูุชูุฌุฉ ูุฃูุฏููููุฌูุฉ ุญูู ูุงูุช ุนูู ุดุฑุทูู: ุงููุณุจุ ู"ุงูุฏุนูุฉ ุจุงูุณูู".</p>
                </div>
                <div class="max-w-3xl mx-auto bg-secondary p-8 rounded-lg shadow-lg">
                    <div class="flex items-start">
                        <div class="ml-4">
                            <h3 class="text-2xl tajawal-bold text-accent">ุงูุฏุนูุฉ ุงููุตุญูุจุฉ ุจุงูุณูู</h3>
                            <p class="mt-2 text-gray-800">
                                ูุฐุง ุงููุจุฏุฃ ุงูุฃุณุงุณู ูู ุงููุฐูุจ ุงูุฒูุฏู ุงููุงุฏูู ูุดุฑุนู ุงูุตุฑุงุน ุงููุณูุญ ูุทุฑูู ุฃุณุงุณู ููุณูุทุฉ. ุงูููุงุฏุฉ ูุง ุชุฃุชู ุจุงูุฅุฌูุงุน ุฃู ุงูููุงุกุฉ ุงูุฅุฏุงุฑูุฉุ ุจู ุจุงููุฏุฑุฉ ุนูู ุญูู ุงูุณูุงุญ ูุงููุชุงู. ูุฐู ุงูููุฑุฉ ุจุทุจูุนุชูุง ุนุฒุฒุช ุซูุงูุฉ ุงูุตุฑุงุน ุงูุฏุงุฆู ุนูู ุงูุญูู ูููุนุช ุงูุงุณุชูุฑุงุฑุ ููุง ููุณุฑ "ุงูุชูุชูุงุช ุงููุจููุฉ ุงูุชู ุชุบุฒู ุจุนุถูุง ุจุนุถูุง".
                            </p>
                            <p class="mt-4 text-sm text-gray-600">
                                ุชุฃุณุณุช ุงูุฅูุงูุฉ ุนุงู <strong>898ู</strong> ูุงุณุชูุฑุช ุญุชู ุซูุฑุฉ <strong>1962ู</strong>ุ ูู ูุงุญุฏุฉ ูู ุฃุทูู ูุชุฑุงุช ุงูุญูู ูู ุงูุชุงุฑูุฎุ ูุงูุชู ุชููุฒุช ุจุงูุตุฑุงุนุงุช ุงูุฏุงุฎููุฉ ูุงูุฎุงุฑุฌูุฉ ุงููุณุชูุฑุฉ.
                            </p>
                        </div>
                        <div class="text-5xl text-accent">โ๏ธ</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section: Tools of Decline -->
        <section id="decline" class="py-20 bg-secondary">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl tajawal-bold text-accent">ุฃุฏูุงุช ุงูุชุฏููุฑ</h2>
                    <p class="mt-2 text-lg text-gray-700">ุงุณุชุฎุฏู ุงูุฃุฆูุฉ ุณูุงุณุงุช ููููุฌุฉ ูุชูุชูุช ุงููุฌุชูุน ูุฅููุงุฑู ูุชุฌูููู ูุถูุงู ุงูุณูุทุฑุฉ ูุงูุจูุงุก. ุงุถุบุท ุนูู ุงูุฒุฑ โจ ููุนุฑูุฉ ุงูุชุฃุซูุฑุงุช ุงูุญุฏูุซุฉ.</p>
                </div>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Card 1 -->
                    <div class="card bg-primary p-6 rounded-lg shadow-lg" data-policy="ูุธุงู ุงูุฑูุงุฆู">
                        <div class="flex items-center mb-3">
                            <span class="text-3xl ml-4">โ๏ธ</span>
                            <h4 class="text-xl tajawal-bold text-contrast">ูุธุงู ุงูุฑูุงุฆู</h4>
                        </div>
                        <p class="text-gray-700">ุฅุฎุถุงุน ุงููุจุงุฆู ุนุจุฑ ุฃุฎุฐ ุฃุจูุงุก ุงูุดููุฎ ูุฑูุงุฆู ูุถูุงู ููุงุฆูู. ููุฏูุฑ ูุฌูุฏ 4000 ุฑูููุฉ ูู ูุตูุฑ ุงูุฅูุงู ุฃุญูุฏ ุนุงู 1939.</p>
                        <div class="mt-4 pt-4 border-t border-gray-200">
                            <button class="gemini-btn w-full px-4 py-2 bg-accent text-light rounded-md tajawal-bold">โจ ุดุงูุฏ ุงูุชุฃุซูุฑ ุงูุญุฏูุซ</button>
                            <div class="gemini-output mt-2 text-sm text-gray-600"></div>
                        </div>
                    </div>
                    <!-- Card 2 -->
                    <div class="card bg-primary p-6 rounded-lg shadow-lg" data-policy="ูุชูู ุงูุฎุฑุงุฌ">
                        <div class="flex items-center mb-3">
                            <span class="text-3xl ml-4">๐ธ</span>
                            <h4 class="text-xl tajawal-bold text-contrast">ูุชูู ุงูุฎุฑุงุฌ</h4>
                        </div>
                        <p class="text-gray-700">ุชุญููู ุฃุฑุงุถู ุงููููููู ุฅูู "ุฎุฑุงุฌูุฉ" (ุบูููุฉ ุญุฑุจ)ุ ููุง ุดุฑุนู ูุฑุถ ุถุฑุงุฆุจ ุจุงูุธุฉ ููุตุงุฏุฑุฉ ุงูุซุฑูุงุช ุชุญุช ุบุทุงุก ุฏููู.</p>
                        <div class="mt-4 pt-4 border-t border-gray-200">
                            <button class="gemini-btn w-full px-4 py-2 bg-accent text-light rounded-md tajawal-bold">โจ ุดุงูุฏ ุงูุชุฃุซูุฑ ุงูุญุฏูุซ</button>
                            <div class="gemini-output mt-2 text-sm text-gray-600"></div>
                        </div>
                    </div>
                    <!-- Card 3 -->
                    <div class="card bg-primary p-6 rounded-lg shadow-lg" data-policy="ุชุฏููุฑ ุงูุชุนููู">
                        <div class="flex items-center mb-3">
                            <span class="text-3xl ml-4">๐ซ</span>
                            <h4 class="text-xl tajawal-bold text-contrast">ุชุฏููุฑ ุงูุชุนููู</h4>
                        </div>
                        <p class="text-gray-700">ูุญุงุฑุจุฉ ุงูุชุนููู ุงูุญุฏูุซ ูุฅุบูุงู ุงููุฏุงุฑุณ ุชุญุช ุดุนุงุฑ "ุงูุดุนุจ ุงูุฌุงูู ุฃุณูู ุญูููุง ูููุงุฏุฉ". ุชู ุชุญููู "ุฏุงุฑ ุงูุตูุงูุน" ุฅูู ุณุฌู.</p>
                        <div class="mt-4 pt-4 border-t border-gray-200">
                            <button class="gemini-btn w-full px-4 py-2 bg-accent text-light rounded-md tajawal-bold">โจ ุดุงูุฏ ุงูุชุฃุซูุฑ ุงูุญุฏูุซ</button>
                            <div class="gemini-output mt-2 text-sm text-gray-600"></div>
                        </div>
                    </div>
                    <!-- Card 4 -->
                    <div class="card bg-primary p-6 rounded-lg shadow-lg" data-policy="ุงูุชุญุฑูุด ุจูู ุงููุจุงุฆู">
                        <div class="flex items-center mb-3">
                            <span class="text-3xl ml-4">โ๏ธ</span>
                            <h4 class="text-xl tajawal-bold text-contrast">ุงูุชุญุฑูุด ุจูู ุงููุจุงุฆู</h4>
                        </div>
                        <p class="text-gray-700">ุชุนุจุฆุฉ ุงููุจุงุฆู ุถุฏ ุจุนุถูุง ุงูุจุนุถุ ูุงุณุชุฎุฏุงููุง ูุฃุฏูุงุช ุนุณูุฑูุฉุ ููุง ููุน ููุงู ูููุฉ ูุทููุฉ ููุญุฏุฉ ูููู ุฃู ุชุชุญุฏู ุญูููู.</p>
                        <div class="mt-4 pt-4 border-t border-gray-200">
                            <button class="gemini-btn w-full px-4 py-2 bg-accent text-light rounded-md tajawal-bold">โจ ุดุงูุฏ ุงูุชุฃุซูุฑ ุงูุญุฏูุซ</button>
                            <div class="gemini-output mt-2 text-sm text-gray-600"></div>
                        </div>
                    </div>
                    <!-- Card 5 -->
                    <div class="card bg-primary p-6 rounded-lg shadow-lg" data-policy="ุบูุงุจ ุงูุชูููุฉ">
                        <div class="flex items-center mb-3">
                            <span class="text-3xl ml-4">๐</span>
                            <h4 class="text-xl tajawal-bold text-contrast">ุบูุงุจ ุงูุชูููุฉ</h4>
                        </div>
                        <p class="text-gray-700">ููุฌ ุบูุฑ ุชูููู ููุฏู ุฅูู ูุฏู ูุง ูู ูุงุฆู ุจุฏูุงู ูู ุงูุจูุงุกุ ููุง ุฃุฏู ุฅูู ุฑููุฏ ุงูุชุตุงุฏู ูุชุฌุงุฑู ูุตูุงุนู ุดุงูู.</p>
                        <div class="mt-4 pt-4 border-t border-gray-200">
                            <button class="gemini-btn w-full px-4 py-2 bg-accent text-light rounded-md tajawal-bold">โจ ุดุงูุฏ ุงูุชุฃุซูุฑ ุงูุญุฏูุซ</button>
                            <div class="gemini-output mt-2 text-sm text-gray-600"></div>
                        </div>
                    </div>
                    <!-- Card 6 -->
                    <div class="card bg-primary p-6 rounded-lg shadow-lg" data-policy="ุงูุงุถุทูุงุฏ ุงูุทุงุฆูู">
                        <div class="flex items-center mb-3">
                            <span class="text-3xl ml-4">๐ญ</span>
                            <h4 class="text-xl tajawal-bold text-contrast">ุงูุงุถุทูุงุฏ ุงูุทุงุฆูู</h4>
                        </div>
                        <p class="text-gray-700">ูุฑุถ ุงููุฐูุจ ุงูุฒูุฏู ุจุงูููุฉุ ูุชูููุฑ ุงููุฎุงูููู ูุซู ุงูุดูุงูุนุ ูุฅุจุงุฏุฉ ุทูุงุฆู ูุงููุฉ ูุซู ุงููุทุฑููุฉ ูุฑูุถูุง ุดุฑุท ุงููุณุจ.</p>
                        <div class="mt-4 pt-4 border-t border-gray-200">
                            <button class="gemini-btn w-full px-4 py-2 bg-accent text-light rounded-md tajawal-bold">โจ ุดุงูุฏ ุงูุชุฃุซูุฑ ุงูุญุฏูุซ</button>
                            <div class="gemini-output mt-2 text-sm text-gray-600"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section: Resistance - New Card Design with Navigation -->
        <section id="resistance" class="py-20 bg-primary">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl tajawal-bold text-accent">ุฑูุญ ุงูููุงููุฉ</h2>
                    <p class="mt-2 text-lg text-gray-700">"ูููุง ุฃูุงู ุงูุดุนุจ ุฃุนุงุฏูู". ูู ููู ุญูู ุงูุฅูุงูุฉ ูุณุชูุฑูุง ุฃุจุฏูุงุ ุจู ููุจู ุจุซูุฑุงุช ูุงูุชูุงุถุงุช ูุณุชูุฑุฉ.</p>
                </div>
                <div class="resistance-container">
                    <div id="resistance-card" class="resistance-card">
                        <p class="text-2xl tajawal-bold text-contrast mb-2" id="event-year">...</p>
                        <h4 class="text-xl tajawal-bold text-accent mb-2" id="event-title">...</h4>
                        <p class="text-gray-700 text-sm" id="event-description">...</p>
                    </div>
                    <div class="nav-buttons">
                        <button id="prev-btn" class="nav-button">ุงูุณุงุจู</button>
                        <span id="event-counter" class="text-gray-700 tajawal-bold">1 ูู 6</span>
                        <button id="next-btn" class="nav-button">ุงูุชุงูู</button>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Section: Ask Gemini -->
        <section id="gemini" class="py-20 bg-secondary">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl tajawal-bold text-accent">โจ ุงุณุฃู Gemini ุนู ุชุงุฑูุฎ ุงูููู</h2>
                    <p class="mt-2 text-lg text-gray-700">ุงูุชุจ ุณุคุงูู ููุง ููุญุตูู ุนูู ุฅุฌุงุจุงุช ููุตูุฉ ูููููููุฏุฉ ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู ุญูู ุชุงุฑูุฎ ุงูููู.</p>
                </div>
                <div class="max-w-3xl mx-auto p-6 bg-primary rounded-lg shadow-lg">
                    <textarea id="gemini-input" class="w-full h-32 p-4 mb-4 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-accent" placeholder="ุงูุชุจ ุณุคุงูู ููุงุ ูุซูุงู: ูุง ูู ูุชุงุฆุฌ ุซูุฑุฉ 26 ุณุจุชูุจุฑ 1962ุ"></textarea>
                    <button id="gemini-ask-btn" class="w-full px-6 py-3 bg-accent text-light rounded-lg tajawal-bold hover:opacity-90 transition-opacity">
                        ุงุณุฃู Gemini
                    </button>
                    <div id="gemini-response" class="mt-6 p-4 bg-secondary rounded-lg text-gray-800">
                        <p class="text-sm">ุณูุธูุฑ ุงูุฑุฏ ููุง...</p>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-secondary mt-20">
        <div class="container mx-auto px-6 py-8 text-center text-gray-700">
            <h3 class="text-2xl tajawal-bold text-accent mb-4">ุงูุฎูุงุตุฉ: ุฅุฑุซ ุงููุงุถู ูุชุญุฏูุงุช ุงูุญุงุถุฑ</h3>
            <p class="max-w-4xl mx-auto">
                ุฅู ุณูุงุณุงุช ุงูุฅูุงูุฉ ุงูููููุฌุฉ ูู ุงูุชุฌููู ูุงูุฅููุงุฑ ูุงูุชูุฑูู ูู ุชูู ูุฌุฑุฏ ูุดู ูู ุงูุญููุ ุจู ุงุณุชุฑุงุชูุฌูุฉ ูุงุฌุญุฉ ููุจูุงุก ูู ุงูุณูุทุฉ ุนูู ุญุณุงุจ ุงููุทู. ุฅุฑุซ ุงูุงููุณุงูุงุช ุงููุจููุฉุ ูุชุฏููุฑ ุงูุงูุชุตุงุฏุ ูุชุบููุจ ุงููุนู ูุง ูุฒุงู ูุคุซุฑ ุจุนูู ุนูู ุงูููู ุงููุนุงุตุฑ. ููู ูุฐุง ุงูุชุงุฑูุฎ ููุณ ุชุฑููุงุ ุจู ุถุฑูุฑุฉ ูููู ุฌุฐูุฑ ุงูุตุฑุงุน ุงูุญุงูู ูุฑุณู ุทุฑูู ูุญู ูุณุชูุจู ุฃูุถู.
            </p>
            <!-- Prominent link to the Google Doc -->
            <div class="mt-8">
                <a href="https://docs.google.com/document/d/1yrtG4Waw3kqU_thBvTzMYsnSe8WdFFDqPM6WmHv4hqg/edit?tab=t.0" target="_blank" class="inline-block px-8 py-4 bg-accent text-light rounded-lg tajawal-bold text-lg hover:opacity-90 transition-opacity">
                    ูุฑุงุกุฉ ุงูุชูุฑูุฑ ุงููุงูู
                </a>
            </div>
            <p class="mt-8 text-sm text-gray-500">ุชู ุฅูุดุงุก ูุฐุง ุงูุชุทุจูู ุงูุชูุงุนูู ุจูุงุกู ุนูู ุชูุฑูุฑ "ุชุญูู ุงูููู: ูู ูุฌุชูุน ุญุถุงุฑู ุฅูู ุชูุชูุงุช ูุจููุฉ" ูุน ููุฒุงุช ุฅุถุงููุฉ ูุฏุนููุฉ ุจู Gemini.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const comparisonData = {
                society: {
                    civilization: `
                        <ul class="space-y-3 list-inside">
                            <li class="flex items-start"><span class="text-contrast ml-2">๐๏ธ</span> <span>ููุงูู ูููุฉ ููุชูุฏูุฉ (ุณุจุฃุ ุญููุฑ) ุจูุธุงู ุฅุฏุงุฑู ูุชุทูุฑ.</span></li>
                            <li class="flex items-start"><span class="text-contrast ml-2">โ๏ธ</span> <span>ููุงููู ูุฏููุฉ ุชูุธู ุงูุชุฌุงุฑุฉ ูุงูุฒุฑุงุนุฉ ูุงูุญูุงุฉ ุงูุนุงูุฉ.</span></li>
                            <li class="flex items-start"><span class="text-contrast ml-2">๐</span> <span>ูุฌุชูุน ูููุชุญ ุนูู ุงูุนุงูู ุนุจุฑ ุงูุชุฌุงุฑุฉ ุงูุฏูููุฉ.</span></li>
                            <li class="flex items-start"><span class="text-contrast ml-2">๐ค</span> <span>ูููุฉ ุฌุงูุนุฉ ุชุชูุญูุฑ ุญูู ุงูููููุฉ ูุฅูุฌุงุฒุงุชูุง.</span></li>
                        </ul>
                    `,
                    imamate: `
                        <ul class="space-y-3 list-inside">
                            <li class="flex items-start"><span class="text-accent ml-2">โ๏ธ</span> <span>ุชูุชูุงุช ูุจููุฉ ูุชูุงุญุฑุฉุ ุงูููุงุก ูููุจููุฉ ูุงูุฅูุงู ูุง ูููุทู.</span></li>
                            <li class="flex items-start"><span class="text-accent ml-2">โ๏ธ</span> <span>ูุธุงู ุงูุฑูุงุฆู ูุฅุฎุถุงุน ุงููุจุงุฆู ูุฒุฑุน ุงูุฎูู.</span></li>
                            <li class="flex items-start"><span class="text-accent ml-2">๐</span> <span>ูุฌุชูุน ููุบูู ููุนุฒูู ุนู ุงูุชุทูุฑุงุช ุงูุนุงูููุฉ.</span></li>
                            <li class="flex items-start"><span class="text-accent ml-2">๐ญ</span> <span>ุชูููุฒ ุทุงุฆูู ูุงุฌุชูุงุนู (ูุซู "ุจูู ุงูุฎูุณ").</span></li>
                        </ul>
                    `
                },
                economy: {
                    civilization: `
                        <ul class="space-y-3 list-inside">
                            <li class="flex items-start"><span class="text-contrast ml-2">๐พ</span> <span>ุฒุฑุงุนุฉ ูุชุทูุฑุฉ (ุณุฏ ูุฃุฑุจุ ุงููุฏุฑุฌุงุช) ูุฅูุชุงุฌ ูููุฑ.</span></li>
                            <li class="flex items-start"><span class="text-contrast ml-2">๐ข</span> <span>ูุฑูุฒ ุชุฌุงุฑู ุนุงููู ููุจุฎูุฑ ูุงูุนุทูุฑ ูุงูุณูุน ุงููุงุฎุฑุฉ.</span></li>
                            <li class="flex items-start"><span class="text-contrast ml-2">๐๏ธ</span> <span>ุตูุงุนุงุช ูุชูุฏูุฉ ูุซู ุงูุณููู ุงูููููุฉ ูุงูุฃููุดุฉ ุงููุงุฎุฑุฉ.</span></li>
                            <li class="flex items-start"><span class="text-contrast ml-2">๐ง</span> <span>ุจููุฉ ุชุญุชูุฉ ูุชุทูุฑุฉ (ุณุฏูุฏุ ูููุงุช ุฑูุ ูุตูุฑ).</span></li>
                        </ul>
                    `,
                    imamate: `
                        <ul class="space-y-3 list-inside">
                            <li class="flex items-start"><span class="text-accent ml-2">๐ธ</span> <span>ุถุฑุงุฆุจ ุงุณุชุบูุงููุฉ (ุงูุฎุฑุงุฌ ูุงูุฎูุณ) ูุฅููุงุฑ ุงูุดุนุจ.</span></li>
                            <li class="flex items-start"><span class="text-accent ml-2">๐</span> <span>ุฑููุฏ ุงูุชุตุงุฏู ูุชุฏููุฑ ููุจููุฉ ุงูุชุญุชูุฉ ุงููุงุฆูุฉ.</span></li>
                            <li class="flex items-start"><span class="text-accent ml-2">๐ฐ</span> <span>ูุตุงุฏุฑุฉ ุงูุซุฑูุงุช ูุงูุชูุงุนุจ ุจุงูุนููุฉ ูุฎุฏูุฉ ุงูุญุงูู.</span></li>
                            <li class="flex items-start"><span class="text-accent ml-2">๐๏ธ</span> <span>ุดุนุจ ููุงุชู ูู ุฃุฌู ููุช ูููู ูู ุธู ุงูููุฑ ุงููุฏูุน.</span></li>
                        </ul>
                    `
                },
                knowledge: {
                    civilization: `
                        <ul class="space-y-3 list-inside">
                             <li class="flex items-start"><span class="text-contrast ml-2">๐</span> <span>ุจุฑุงุนุฉ ููุฏุณูุฉ ููุนูุงุฑูุฉ (ูุตุฑ ุบูุฏุงูุ ุงูุณุฏูุฏ).</span></li>
                             <li class="flex items-start"><span class="text-contrast ml-2">โ๏ธ</span> <span>ูุธุงู ูุชุงุจุฉ ุฎุงุต (ุงููุณูุฏ) ูุชูุซูู ููุชุงุฑูุฎ ูุงูุฅูุฌุงุฒุงุช.</span></li>
                             <li class="flex items-start"><span class="text-contrast ml-2">๐จ</span> <span>ูููู ููุญุช ููููุด ุชุฒูู ุงููุจุงูู ูุงููุนุงุจุฏ.</span></li>
                             <li class="flex items-start"><span class="text-contrast ml-2">๐บ๏ธ</span> <span>ูุนุฑูุฉ ุฌุบุฑุงููุฉ ูููููุฉ ูุฎุฏูุฉ ุงูุชุฌุงุฑุฉ ูุงูุฒุฑุงุนุฉ.</span></li>
                        </ul>
                    `,
                    imamate: `
                        <ul class="space-y-3 list-inside">
                            <li class="flex items-start"><span class="text-accent ml-2">๐ซ</span> <span>ุณูุงุณุฉ ุชุฌููู ูุชุนูุฏ ููุญุงุฑุจุฉ ููุนููู ุงูุญุฏูุซุฉ.</span></li>
                            <li class="flex items-start"><span class="text-accent ml-2">๐</span> <span>ุชุนููู ุฏููู ูุญุฏูุฏ ูุฑูุฒ ุนูู ุงูุญูุธ ูุชุฑุณูุฎ ุงูุทุงุนุฉ.</span></li>
                            <li class="flex items-start"><span class="text-accent ml-2">๐</span> <span>ูููุฏ ุตุงุฑูุฉ ุนูู ุงูููุชุจุงุช ูุงููุตูู ูููุนุฑูุฉ.</span></li>
                            <li class="flex items-start"><span class="text-accent ml-2">๐ฐ</span> <span>ุชุญููู ุงููุคุณุณุงุช ุงูุชุนููููุฉ ุฅูู ุณุฌูู ููุนุชููุงุช.</span></li>
                        </ul>
                    `
                }
            };

            const policyPrompts = {
                'ูุธุงู ุงูุฑูุงุฆู': 'ุงุดุฑุญ ููู ูููู ุฃู ูุคุฏู ูุธุงู ุงูุฑูุงุฆู ุงูุชุงุฑูุฎู ุฅูู ุฅุถุนุงู ุงููุณูุฌ ุงูุงุฌุชูุงุนู ูุงูุซูุฉ ุจูู ููููุงุช ุงููุฌุชูุน ูู ุงูุนุตุฑ ุงูุญุฏูุซ.',
                'ูุชูู ุงูุฎุฑุงุฌ': 'ุตู ููู ูููู ุฃู ุชุชุฌูู ุณูุงุณุงุช ูุตุงุฏุฑุฉ ุงูุซุฑูุงุช ูุงูุถุฑุงุฆุจ ุงูุฌุงุฆุฑุฉ ูุซู "ุงูุฎุฑุงุฌ" ูู ุงูุงูุชุตุงุฏ ุงูุญุฏูุซุ ููุง ูู ุชุฃุซูุฑุงุชูุง ุนูู ุงูุชูููุฉุ',
                'ุชุฏููุฑ ุงูุชุนููู': 'ุงุดุฑุญ ููู ูููู ูุณูุงุณุฉ ุชุฏููุฑ ุงูุชุนููู ูุชุฌููู ุงูุดุนุจ ุฃู ุชุคุฏู ุฅูู ุชุจุนุงุช ุงุฌุชูุงุนูุฉ ูุงูุชุตุงุฏูุฉ ุทูููุฉ ุงูุฃูุฏ ูู ุฃู ูุฌุชูุน ุญุฏูุซ.',
                'ุงูุชุญุฑูุด ุจูู ุงููุจุงุฆู': 'ุงุดุฑุญ ููู ูููู ุฃู ุชุคุฏู ุณูุงุณุฉ "ุงูุชุญุฑูุด ุจูู ุงููุจุงุฆู" ุฅูู ุงููุณุงูุงุช ูุฌุชูุนูุฉ ูุตุฑุงุนุงุช ุฏุงุฎููุฉ ูุณุชูุฑุฉ ูู ุงูุนุตุฑ ุงูุญุฏูุซ.',
                'ุบูุงุจ ุงูุชูููุฉ': 'ุงุดุฑุญ ููู ูููู ุฃู ูุคุฏู "ุบูุงุจ ุงูุชูููุฉ" ูุงูุชุฑููุฒ ุนูู ุงููุฏู ุจุฏูุงู ูู ุงูุจูุงุก ุฅูู ุชุฏููุฑ ุงูุชุตุงุฏู ุดุงูู ูู ุงูุฏูู ุงููุนุงุตุฑุฉ.',
                'ุงูุงุถุทูุงุฏ ุงูุทุงุฆูู': 'ุตู ููู ูููู ุฃู ูุคุฏู "ุงูุงุถุทูุงุฏ ุงูุทุงุฆูู" ุฅูู ุตุฑุงุนุงุช ูุฌุชูุนูุฉ ูุชูุฏูุฏ ูููููุฉ ุงููุทููุฉ ูู ุงูุนุตุฑ ุงูุญุฏูุซ.'
            };
            
            const resistanceEvents = [
                {
                    year: '1217',
                    title: 'ุซูุฑุฉ ุงููุทุฑููุฉ',
                    description: 'ุญุฑูุฉ ููุฑูุฉ ููุฐูุจูุฉ ุฑูุถุช ุดุฑุท "ุงููุณุจ" ูุดุฑุท ููุญููุ ููุง ุฃุฏู ุฅูู ุฅุจุงุฏุชูุง ุนูู ูุฏ ุงูุฅูุงู ุงูููุตูุฑ ุนุจุฏ ุงููู ุจู ุญูุฒุฉ. ุชุนุชุจุฑ ูุฐู ุงูุญุฑูุฉ ุฃูู ููุงููุฉ ููุฑูุฉ ูุจูุฑุฉ.'
                },
                {
                    year: '1558',
                    title: 'ุตุฑุงุนุงุช ุงููุชููู ุดุฑู ุงูุฏูู',
                    description: 'ููุฌุฉ ูู ุงูุตุฑุงุนุงุช ุงูุนุณูุฑูุฉ ูุงูุชูุฑุฏุงุช ุงูุฏุงุฎููุฉ ุถุฏ ุญูู ุงูุฅูุงูุ ูุงูุชู ูุดูุช ุนู ูุดุงุดุฉ ุงููุธุงู ุงูุฅูุงูู ูุนุฏู ุงุณุชูุฑุงุฑู.'
                },
                {
                    year: '1928',
                    title: 'ุซูุฑุฉ ุงูุฒุฑุงููู',
                    description: 'ุงูุชูุงุถุฉ ูุณูุญุฉ ููุจููุฉ ุงูุฒุฑุงููู ุถุฏ ูุธุงู ุงูุฅูุงู ูุญูู ุญููุฏ ุงูุฏููุ ููุจูุช ุจูุญุดูุฉ ุดุฏูุฏุฉ ูู ูุจู ุงูุฅูุงูุฉุ ููุง ุฃุธูุฑ ุดุฑุงุณุฉ ุงููุธุงู ูู ููุน ุฃู ุชูุฑุฏ.'
                },
                {
                    year: '1948',
                    title: 'ุซูุฑุฉ ุงูุฏุณุชูุฑ',
                    description: 'ุญุฑูุฉ ูุทููุฉ ุณุนุช ูุฅูุงูุฉ ุญูู ุฏุณุชูุฑู ุจุฏูุงู ูู ุงูุญูู ุงููุทููุ ุงูุชูุช ุจุงุบุชูุงู ุงูุฅูุงู ูุญูู ููููุง ูุดูุช ูู ุฅูุงูุฉ ุงูุฏููุฉ ุงูุญุฏูุซุฉ.'
                },
                {
                    year: '1955',
                    title: 'ุญุฑูุฉ ุงูุซูุงูุง',
                    description: 'ูุญุงููุฉ ุงูููุงุจูุฉ ูุงุฏูุง ุงูุนููุฏ ุฃุญูุฏ ุงูุซูุงูุง ุถุฏ ุงูุฅูุงู ุฃุญูุฏ ุญููุฏ ุงูุฏููุ ูุดูุช ููููุง ูุงูุช ูุคุดุฑูุง ุนูู ุชุฒุงูุฏ ุงูุณุฎุท ุฏุงุฎู ุงููุคุณุณุฉ ุงูุนุณูุฑูุฉ.'
                },
                {
                    year: '1962',
                    title: 'ุซูุฑุฉ 26 ุณุจุชูุจุฑ',
                    description: 'ุงูุซูุฑุฉ ุงูุชู ุฃููุช ุญูู ุงูุฅูุงูุฉ ุงููุณุชูุฑ ููุฑููุ ูุฃุณุณุช ุงูุฌูููุฑูุฉ ุงูุนุฑุจูุฉ ุงูููููุฉุ ูุนููุฉ ุจุฏุงูุฉ ุนุตุฑ ุฌุฏูุฏ ูู ุชุงุฑูุฎ ุงูููู.'
                }
            ];

            let currentEventIndex = 0;

            const civilizationContent = document.getElementById('civilization-content');
            const imamateContent = document.getElementById('imamate-content');
            const buttons = document.querySelectorAll('#comparison-buttons button');
            const geminiInput = document.getElementById('gemini-input');
            const geminiAskBtn = document.getElementById('gemini-ask-btn');
            const geminiResponseDiv = document.getElementById('gemini-response');
            const policyButtons = document.querySelectorAll('.gemini-btn');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const eventCounter = document.getElementById('event-counter');
            const resistanceCard = document.getElementById('resistance-card');
            const eventYearEl = document.getElementById('event-year');
            const eventTitleEl = document.getElementById('event-title');
            const eventDescriptionEl = document.getElementById('event-description');

            // Function to render the current resistance event with a fade effect
            function renderResistanceEvent() {
                // Add fade-out class
                resistanceCard.classList.add('fade-out');

                // Wait for the fade-out transition to complete
                setTimeout(() => {
                    const event = resistanceEvents[currentEventIndex];
                    eventYearEl.textContent = event.year;
                    eventTitleEl.textContent = event.title;
                    eventDescriptionEl.textContent = event.description;
                    eventCounter.textContent = `${currentEventIndex + 1} ูู ${resistanceEvents.length}`;
                    
                    // Remove fade-out class and add fade-in
                    resistanceCard.classList.remove('fade-out');
                }, 300); // Match this with the CSS transition duration

                // Disable/enable buttons based on index
                prevBtn.disabled = currentEventIndex === 0;
                nextBtn.disabled = currentEventIndex === resistanceEvents.length - 1;
            }

            // Event listeners for navigation buttons
            prevBtn.addEventListener('click', () => {
                if (currentEventIndex > 0) {
                    currentEventIndex--;
                    renderResistanceEvent();
                }
            });

            nextBtn.addEventListener('click', () => {
                if (currentEventIndex < resistanceEvents.length - 1) {
                    currentEventIndex++;
                    renderResistanceEvent();
                }
            });

            // Initial render
            renderResistanceEvent();

            async function fetchGeminiResponse(prompt) {
                let chatHistory = [];
                chatHistory.push({ role: "user", parts: [{ text: prompt }] });
                const payload = { contents: chatHistory };
                const apiKey = "";
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

                try {
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });
                    const result = await response.json();
                    if (result.candidates && result.candidates.length > 0 &&
                        result.candidates[0].content && result.candidates[0].content.parts &&
                        result.candidates[0].content.parts.length > 0) {
                        return result.candidates[0].content.parts[0].text;
                    } else {
                        return 'ุญุฏุซ ุฎุทุฃ ูู ุงูุญุตูู ุนูู ุงูุฅุฌุงุจุฉ. ูุฑุฌู ุงููุญุงููุฉ ูุฑุฉ ุฃุฎุฑู.';
                    }
                } catch (error) {
                    console.error('Error fetching Gemini response:', error);
                    return 'ุญุฏุซ ุฎุทุฃ ูู ุงูุงุชุตุงู ุจุงูุฎุฏูุฉ. ูุฑุฌู ุงูุชุญูู ูู ุงุชุตุงูู ุจุงูุฅูุชุฑูุช.';
                }
            }

            async function handleGeminiPolicyRequest(event) {
                const button = event.target;
                const card = button.closest('.card');
                const policyName = card.dataset.policy;
                const outputDiv = card.querySelector('.gemini-output');
                const originalText = button.textContent;

                button.textContent = 'ุฌุงุฑู ุงูุชุญููู...';
                button.disabled = true;

                const prompt = policyPrompts[policyName];
                const responseText = await fetchGeminiResponse(prompt);

                outputDiv.innerHTML = `<strong class="text-accent">ุงูุชุฃุซูุฑ ุงูุญุฏูุซ:</strong> ${responseText}`;
                button.textContent = originalText;
                button.disabled = false;
            }

            async function handleGeminiChatRequest() {
                const userQuestion = geminiInput.value.trim();
                if (!userQuestion) {
                    geminiResponseDiv.innerHTML = '<p class="text-red-500">ูู ูุถูู ุงูุชุจ ุณุคุงูู ุฃููุงู.</p>';
                    return;
                }

                geminiAskBtn.textContent = 'ุฌุงุฑู ุงูุฅุฌุงุจุฉ...';
                geminiAskBtn.disabled = true;
                geminiResponseDiv.innerHTML = '<p>...</p>';

                const prompt = `ุฃุฌุจ ุนู ุงูุณุคุงู ุงูุชุงูู ุญูู ุชุงุฑูุฎ ุงููููุ ูุน ุงูุชุฑููุฒ ุนูู ููู ุณูุงูู: "${userQuestion}"`;
                const responseText = await fetchGeminiResponse(prompt);

                geminiResponseDiv.innerHTML = responseText;
                geminiAskBtn.textContent = 'ุงุณุฃู Gemini';
                geminiAskBtn.disabled = false;
            }

            function updateContent(topic) {
                civilizationContent.innerHTML = comparisonData[topic].civilization;
                imamateContent.innerHTML = comparisonData[topic].imamate;
                buttons.forEach(button => {
                    button.classList.remove('active-button');
                    if (button.dataset.topic === topic) {
                        button.classList.add('active-button');
                    }
                });
            }

            buttons.forEach(button => {
                button.addEventListener('click', () => {
                    updateContent(button.dataset.topic);
                });
            });

            updateContent('society');

            const navLinks = document.querySelectorAll('.nav-link');
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        window.scrollTo({
                            top: targetElement.offsetTop - 70, 
                            behavior: 'smooth'
                        });
                    }
                });
            });

            policyButtons.forEach(button => {
                button.addEventListener('click', handleGeminiPolicyRequest);
            });

            geminiAskBtn.addEventListener('click', handleGeminiChatRequest);
        });
    </script>
</body>
</html>
